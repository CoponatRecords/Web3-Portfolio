import{q as A,a2 as R,E as $,a3 as E,a4 as O,j as e,r as d,a5 as k,M as C,a6 as D,m as p,B as g,T as b,J as T,I as M,u as F,c as N,a7 as W,O as h,a8 as H,N as P,C as U,a as q,b as v}from"./index-BroBpP-o.js";import{w as L,I as J}from"./writeContract-TsOUDpTQ.js";import{I as V}from"./IconButton-CyRb5xCv.js";import{C as I,a as G}from"./CardContent-uUm5Hwwc.js";class K extends A{constructor({value:a}){super(`Number \`${a}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Q(n,a){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(n))throw new K({value:n});let[s,t="0"]=n.split(".");const o=s.startsWith("-");if(o&&(s=s.slice(1)),t=t.replace(/(0+)$/,""),t.length>a){const[i,c,l]=[t.slice(0,a-1),t.slice(a-1,a),t.slice(a)],r=Math.round(+`${c}.${l}`);r>9?t=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):t=`${i}${r}`,t.length>a&&(t=t.slice(1),s=`${BigInt(s)+1n}`),t=t.slice(0,a)}else t=t.padEnd(a,"0");return BigInt(`${o?"-":""}${s}${t}`)}async function X(n,a){const{abi:s,chainId:t,connector:o,...i}=a;let c;a.account?c=a.account:c=(await R(n,{chainId:t,connector:o})).account;const l=n.getClient({chainId:t}),r=$(l,E,"simulateContract"),{result:f,request:x}=await r({...i,abi:s,account:c});return{chainId:l.chain.id,result:f,request:{...x,chainId:t}}}const Y=O(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),Z=({body:n})=>(d.useEffect(()=>{k(n,{autoHideDuration:3e3,variant:"info",preventDuplicate:!0,anchorOrigin:{vertical:"top",horizontal:"center"},style:{background:"rgba(255, 255, 255, 0.05)",color:"#ffffff",borderRadius:1,boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)",fontSize:"1rem"},action:a=>e.jsx(C,{onClick:()=>D(a),sx:{borderRadius:1,background:"linear-gradient(90deg, #6200ea 0%, #304ffe 100%)",color:"#ffffff","&:hover":{background:"linear-gradient(90deg, #7f39fb 0%, #3f51b5 100%)"},fontSize:{xs:"0.75rem",sm:"0.875rem"},px:2},children:"Dismiss"})})},[n]),e.jsx(p.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:e.jsx(g,{sx:{background:"rgba(255, 255, 255, 0.05)",borderRadius:1,p:2,textAlign:"center"},children:e.jsx(b,{sx:{fontSize:{xs:"0.875rem",sm:"1rem"},fontWeight:"bold",color:"#ffffff",textShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:"Transaction Sent Successfully!"})})})),w=({body:n})=>(d.useEffect(()=>{k(n,{autoHideDuration:3e3,variant:"warning",preventDuplicate:!0,anchorOrigin:{vertical:"top",horizontal:"center"},style:{background:"rgba(255, 255, 255, 0.05)",color:"#f44336",borderRadius:1,boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)",fontSize:"1rem"},action:a=>e.jsx(C,{onClick:()=>D(a),sx:{borderRadius:1,background:"linear-gradient(90deg, #6200ea 0%, #304ffe 100%)",color:"#ffffff","&:hover":{background:"linear-gradient(90deg, #7f39fb 0%, #3f51b5 100%)"},fontSize:{xs:"0.75rem",sm:"0.875rem"},px:2},children:"Dismiss"})})},[n]),e.jsx(p.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:e.jsx(g,{sx:{background:"rgba(255, 255, 255, 0.05)",borderRadius:1,p:2,textAlign:"center"},children:e.jsx(b,{sx:{fontSize:{xs:"0.875rem",sm:"1rem"},fontWeight:"bold",color:"#f44336",textShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:"Transaction Failed!"})})})),S=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],outputs:[{internalType:"bool",name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}]}],y="0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238";function _({to:n,myvalue:a}){const s=T();let t=M(u=>u.hash.myhash);const{address:o,isConnected:i}=F(),[c,l]=d.useState(!1),[r,f]=d.useState(!1),[x,m]=d.useState(null),z=async()=>{l(!0),m(null),f(!1);try{if(!i||!o)throw new Error("Connect your wallet!");const u=await W(h,{address:y,abi:S,functionName:"balanceOf",args:[o]});console.log("Balance:",u.toString(),"at wallet",o);const j=Q(a.toString(),6),B=await X(h,{account:o,address:y,abi:S,functionName:"transfer",args:[n,j]});console.log("Simulation result:",B),t=await L(h,{chain:H,account:o,address:y,abi:S,functionName:"transfer",args:[n,j]}),console.log("Transaction sent:",t),s(P(`${t}`)),f(!0)}catch(u){console.error("Transaction error:",u),m(u)}finally{l(!1)}};return e.jsxs(p.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:[e.jsx(C,{variant:"contained",sx:{mt:2,borderRadius:2,background:"linear-gradient(90deg, #6200ea 0%, #304ffe 100%)",color:"#ffffff","&:hover":{background:"linear-gradient(90deg, #7f39fb 0%, #3f51b5 100%)"},"&:disabled":{background:"rgba(255, 255, 255, 0.3)",color:"rgba(255, 255, 255, 0.5)"}},fullWidth:!0,onClick:z,disabled:c,children:c?e.jsx(N,{size:24,sx:{color:"#ffffff"}}):"Send"}),r&&e.jsx(Z,{body:"Transaction Success!"}),x&&i&&e.jsx(w,{body:"Transaction Failed!"}),x&&!i&&e.jsx(w,{body:"Connect your wallet"})]})}const re=({expandedTool:n,handleToolClick:a,setAnchorEl:s})=>{const[t,o]=d.useState("0x92FcD9d0424E3D3F3bB5a503a59A507F9A4607ee"),[i,c]=d.useState(1e-6),l=r=>{r.stopPropagation(),s(r.currentTarget)};return e.jsxs(U,{sx:{background:"linear-gradient(135deg, #1e1e1e 0%, #2a2a2a 100%)",borderRadius:4,boxShadow:n==="send"?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 4px 16px rgba(0, 0, 0, 0.2)",transform:n==="send"?"scale(1.02)":"scale(1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",zIndex:n==="send"?2:1,cursor:"pointer",width:{xs:"100%",sm:"400px"},"&:hover":{transform:n!=="send"?"scale(1.05)":"scale(1.02)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"}},onClick:()=>a("send"),children:[e.jsx(q,{title:e.jsxs(g,{width:"100%",textAlign:"center",children:[e.jsxs(b,{variant:"h6",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",textShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:[e.jsx(V,{onClick:r=>{r.stopPropagation(),l(r)},sx:{color:"#ffffff","&:hover":{color:"rgba(255, 255, 255, 0.7)"},mr:1},children:e.jsx(Y,{sx:{fontSize:{xs:18,sm:20}}})}),"Send USDC"]}),e.jsx(I,{in:n==="send",children:e.jsx(b,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.7)",fontStyle:"italic"},children:"Send USDC on SepoliaETH testnet"})})]}),sx:{p:{xs:1.5,sm:2},textAlign:"center"}}),e.jsx(I,{in:n==="send",children:e.jsx(p.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:e.jsx(G,{sx:{p:{xs:2,sm:3},pt:1,background:"rgba(255, 255, 255, 0.05)"},children:e.jsxs(g,{sx:{display:"flex",flexDirection:"column",gap:{xs:1.5,sm:2}},children:[e.jsx(v,{label:"Amount to send",variant:"outlined",value:i,type:"number",onChange:r=>c(parseFloat(r.target.value)),onClick:r=>{r.stopPropagation()},fullWidth:!0,InputProps:{endAdornment:e.jsx(J,{position:"end",children:"USDC"})},sx:{"& .MuiInputBase-input":{fontSize:{xs:"0.875rem",sm:"1rem"},color:"#ffffff"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.3)"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},background:"rgba(255, 255, 255, 0.1)",borderRadius:2}}),e.jsx(v,{label:"Receiver address",variant:"outlined",value:t,onChange:r=>o(r.target.value),onClick:r=>{r.stopPropagation()},fullWidth:!0,sx:{"& .MuiInputBase-input":{fontSize:{xs:"0.875rem",sm:"1rem"},color:"#ffffff"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.3)"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},background:"rgba(255, 255, 255, 0.1)",borderRadius:2}}),e.jsx(_,{to:t,myvalue:i})]})})})})]})};export{re as default};
