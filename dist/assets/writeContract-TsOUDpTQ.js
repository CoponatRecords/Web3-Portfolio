import{g as B,d as D,r as j,e as O,a9 as W,j as v,aa as H,s as J,h as K,T as Q,i as A,k as V,n as X,ab as Y,ac as Z,ad as tt,ae as at,af as et,ag as _,ah as nt,ai as rt,q as ot,aj as k,ak as P,al as st,am as it,an as ct,ao as dt,ap as lt,aq as ut,ar as pt,as as x,at as ht,au as ft,a2 as mt,E as wt}from"./index-BroBpP-o.js";function yt(t){return D("MuiInputAdornment",t)}const $=B("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var U;const gt=(t,a)=>{const{ownerState:e}=t;return[a.root,a[`position${A(e.position)}`],e.disablePointerEvents===!0&&a.disablePointerEvents,a[e.variant]]},vt=t=>{const{classes:a,disablePointerEvents:e,hiddenLabel:n,position:o,size:s,variant:i}=t,c={root:["root",e&&"disablePointerEvents",o&&`position${A(o)}`,i,n&&"hiddenLabel",s&&`size${A(s)}`]};return V(c,yt,a)},Et=J("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:gt})(X(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${$.positionStart}&:not(.${$.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Rt=j.forwardRef(function(a,e){const n=O({props:a,name:"MuiInputAdornment"}),{children:o,className:s,component:i="div",disablePointerEvents:c=!1,disableTypography:u=!1,position:d,variant:p,...h}=n,l=W()||{};let f=p;p&&l.variant,l&&!f&&(f=l.variant);const y={...n,hiddenLabel:l.hiddenLabel,size:l.size,disablePointerEvents:c,position:d,variant:f},E=vt(y);return v.jsx(H.Provider,{value:null,children:v.jsx(Et,{as:i,ownerState:y,className:K(E.root,s),ref:e,...h,children:typeof o=="string"&&!u?v.jsx(Q,{color:"textSecondary",children:o}):v.jsxs(j.Fragment,{children:[d==="start"?U||(U=v.jsx("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"})):null,o]})})})});function Ct({chain:t,currentChainId:a}){if(!t)throw new Y;if(a!==t.id)throw new Z({chain:t,currentChainId:a})}function Pt(t,{docsPath:a,...e}){const n=(()=>{const o=tt(t,e);return o instanceof at?t:o})();return new et(n,{docsPath:a,...e})}const R=new dt(128);async function Tt(t,a){var I,N,q,z;const{account:e=t.account,chain:n=t.chain,accessList:o,authorizationList:s,blobs:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:h,maxPriorityFeePerGas:l,nonce:f,value:y,...E}=a;if(typeof e>"u")throw new _({docsPath:"/docs/actions/wallet/sendTransaction"});const r=e?k(e):null;try{nt(a);const m=await(async()=>{if(a.to)return a.to;if(a.to!==null&&s&&s.length>0)return await rt({authorization:s[0]}).catch(()=>{throw new ot("`to` is required. Could not infer from `authorizationList`.")})})();if((r==null?void 0:r.type)==="json-rpc"||r===null){let g;n!==null&&(g=await P(t,st,"getChainId")({}),Ct({currentChainId:g,chain:n}));const C=(q=(N=(I=t.chain)==null?void 0:I.formatters)==null?void 0:N.transactionRequest)==null?void 0:q.format,M=(C||it)({...ct(E,{format:C}),accessList:o,authorizationList:s,blobs:i,chainId:g,data:c,from:r==null?void 0:r.address,gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:h,maxPriorityFeePerGas:l,nonce:f,to:m,value:y}),S=R.get(t.uid),G=S?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:G,params:[M]},{retryCount:0})}catch(L){if(S===!1)throw L;const w=L;if(w.name==="InvalidInputRpcError"||w.name==="InvalidParamsRpcError"||w.name==="MethodNotFoundRpcError"||w.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[M]},{retryCount:0}).then(T=>(R.set(t.uid,!0),T)).catch(T=>{const b=T;throw b.name==="MethodNotFoundRpcError"||b.name==="MethodNotSupportedRpcError"?(R.set(t.uid,!1),w):b});throw w}}if((r==null?void 0:r.type)==="local"){const g=await P(t,lt,"prepareTransactionRequest")({account:r,accessList:o,authorizationList:s,blobs:i,chain:n,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:h,maxPriorityFeePerGas:l,nonce:f,nonceManager:r.nonceManager,parameters:[...ut,"sidecars"],value:y,...E,to:m}),C=(z=n==null?void 0:n.serializers)==null?void 0:z.transaction,F=await r.signTransaction(g,{serializer:C});return await P(t,pt,"sendRawTransaction")({serializedTransaction:F})}throw(r==null?void 0:r.type)==="smart"?new x({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new x({docsPath:"/docs/actions/wallet/sendTransaction",type:r==null?void 0:r.type})}catch(m){throw m instanceof x?m:Pt(m,{...a,account:r,chain:a.chain||void 0})}}async function bt(t,a){const{abi:e,account:n=t.account,address:o,args:s,dataSuffix:i,functionName:c,...u}=a;if(typeof n>"u")throw new _({docsPath:"/docs/contract/writeContract"});const d=n?k(n):null,p=ht({abi:e,args:s,functionName:c});try{return await P(t,Tt,"sendTransaction")({data:`${p}${i?i.replace("0x",""):""}`,to:o,account:d,...u})}catch(h){throw ft(h,{abi:e,address:o,args:s,docsPath:"/docs/contract/writeContract",functionName:c,sender:d==null?void 0:d.address})}}async function At(t,a){const{account:e,chainId:n,connector:o,...s}=a;let i;return typeof e=="object"&&(e==null?void 0:e.type)==="local"?i=t.getClient({chainId:n}):i=await mt(t,{account:e??void 0,chainId:n,connector:o}),await wt(i,bt,"writeContract")({...s,...e?{account:e}:{},chain:n?{id:n}:null})}export{Rt as I,Tt as s,At as w};
