import{u as C,r as n,j as e,C as S,a as B,B as y,T as t,m as I,b as L,c as N,L as T}from"./index-BroBpP-o.js";import{S as W,L as E,a as M,A as R,T as F,b as z,c as O,N as _}from"./Token-DGEnskrQ.js";import{C as j,a as H}from"./CardContent-uUm5Hwwc.js";import"./bn-BsDm8uvU.js";const K={apiKey:"_2CAnbAg7ig792u7yXxhZ5rN8Tt-rINx",network:_.ARB_MAINNET},P={"& .MuiInputBase-input":{fontSize:{xs:"0.875rem",sm:"1rem"},color:"#ffffff"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.3)"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},background:"rgba(255, 255, 255, 0.1)",borderRadius:1},X=({expandedTool:r,handleToolClick:w})=>{const{address:c}=C(),[s,x]=n.useState(""),[l,h]=n.useState([]),[m,d]=n.useState(null),[k,b]=n.useState(!1),g=new O(K);return n.useEffect(()=>{c&&c!==s&&x(c)},[c]),n.useEffect(()=>{if(!s){h([]),d("No wallet address provided"),b(!1);return}(async()=>{b(!0);try{const o=await g.core.getTokenBalances(s),u=[];for(const f of o.tokenBalances){const p=parseInt(f.tokenBalance,16);if(p!==0){const i=await g.core.getTokenMetadata(f.contractAddress),v=p/Math.pow(10,i.decimals||18),A=i.symbol||`UNK-${f.contractAddress.slice(-4)}`;u.push({metadata:{name:i.name||"Unknown Token",symbol:A,logo:i.logo},balance:v})}}h(u),d(null)}catch(o){console.error("Error fetching token balances:",o),d("Failed to fetch token balances")}finally{b(!1)}})()},[s]),e.jsxs(S,{sx:{background:"linear-gradient(135deg, #1e1e1e 0%, #2a2a2a 100%)",borderRadius:1,boxShadow:r==="balance"?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 4px 16px rgba(0, 0, 0, 0.2)",transform:r==="balance"?"scale(1.02)":"scale(1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",zIndex:r==="balance"?2:1,width:{xs:"100%",sm:"400px"},"&:hover":{transform:r!=="balance"?"scale(1.05)":"scale(1.02)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"}},children:[e.jsx(B,{title:e.jsxs(y,{width:"100%",textAlign:"center",children:[e.jsx(t,{variant:"h6",sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"},fontWeight:"bold",color:"#ffffff",textShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:"Wallet Balance"}),e.jsx(j,{in:r==="balance",children:e.jsx(t,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.7)",fontStyle:"italic"},children:"View token balances on Arbitrum Mainnet"})})]}),onClick:()=>w("balance")}),e.jsx(j,{in:r==="balance",children:e.jsx(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:e.jsx(H,{sx:{p:{xs:2,sm:3},pt:1,background:"rgba(255, 255, 255, 0.05)"},children:e.jsxs(W,{spacing:2,children:[e.jsx(L,{label:"Wallet Address",value:s,onChange:a=>x(a.target.value),fullWidth:!0,variant:"outlined",sx:P}),k?e.jsx(y,{sx:{display:"flex",justifyContent:"center",mt:2,mb:2},children:e.jsx(N,{size:24,sx:{color:"#ffffff"}})}):m?e.jsx(t,{variant:"body2",sx:{mt:1,textAlign:"center",color:"#f44336"},children:m}):l.length===0?e.jsx(t,{variant:"body2",sx:{mt:1,textAlign:"center",color:"rgba(255, 255, 255, 0.7)"},children:"No tokens with non-zero balance"}):e.jsx(T,{sx:{p:0,bgcolor:"rgba(255, 255, 255, 0.05)",borderRadius:1,maxHeight:l.length>5?"300px":"auto",overflowY:l.length>5?"auto":"visible","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"rgba(255, 255, 255, 0.1)",borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.3)",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"rgba(255, 255, 255, 0.5)"}},children:l.map((a,o)=>e.jsxs(E,{sx:{py:1,px:2,borderBottom:o<l.length-1?"1px solid":"none",borderColor:"rgba(255, 255, 255, 0.2)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.1)"}},children:[e.jsx(M,{children:e.jsx(R,{sx:{bgcolor:a.metadata.logo?"transparent":"linear-gradient(135deg, #6200ea 0%, #304ffe 100%)",color:"#ffffff",width:32,height:32},children:a.metadata.logo?e.jsx("img",{src:a.metadata.logo,alt:a.metadata.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:1}}):e.jsx(F,{})})}),e.jsx(z,{primary:e.jsx(t,{variant:"body1",sx:{fontWeight:"medium",color:"#ffffff"},children:a.metadata.name}),secondary:e.jsxs(t,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:[a.balance.toFixed(4)," ",e.jsx(t,{component:"span",variant:"body2",sx:{fontWeight:"bold",color:"#ffffff"},children:a.metadata.symbol})]})})]},o))}),e.jsxs(t,{variant:"caption",sx:{mt:1,textAlign:"center",color:"rgba(255, 255, 255, 0.7)",fontStyle:"italic"},children:["Powered by"," ",e.jsx("a",{href:"https://www.alchemy.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"#ffffff"},children:"Alchemy"})]})]})})})})]})};export{X as default};
